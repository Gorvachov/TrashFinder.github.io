<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Panel â€” Trash Finder</title>
  <link rel="stylesheet" href="css/index.css" />
</head>
<body>
  <header class="navbar">
    <div class="container nav-content">
      <div class="logo">
        <a class="link" href = "dashboard.html">
        <img src="img/logo.png" width="36" height="36" alt="Logo" />
        <span class="logo-text">TRASH FINDER</span>
        </a>
      </div>
      <div class="nav-buttons">
        <button id="logoutBtn" class="btn btn-secondary">Cerrar sesiÃ³n</button>
      </div>
    </div>
  </header>

<main class="dashboard container">

    <!-- Vista para ciudadano -->
    <section id="view-ciudadano" class="dash-view hidden">
    <header class="dash-header">
    <div class="dash-logo-row">
    </div>
    <h1 id="citizen-name" class="dash-title">Hola, Ciudadano ğŸ‘‹</h1>
    <p id="citizen-meta" class="dash-meta">
      <h3>Tu aporte hace la diferencia</h3>
              <!-- Mi Impacto -->
        <section class="dash-section">
          <div class="dash-section-header">
            <span>â™»ï¸ Mi Impacto</span>
          </div>
          <article class="dash-card dash-summary">
            <ul class="dash-summary-list">
              <li>ğŸ—‘ï¸ Kg basura evitada: <span id="kg-basura-evitada">2.3 kg</span></li>
              <li>ğŸ”¥ Racha de dÃ­as: <span id="racha-dias">4 dÃ­as</span></li>
              <li>ğŸŒ¿ Nivel: <span id="nivel">Eco-Novato</span></li>
            </ul>
          </article>
        </section>

      <!-- VÃ­nculo del dashboard con el mapa de contenedores-->
        <div class="dash-actions">
          <a class="link" href="map.html">
          <button class="btn btn-primary btn-block">ğŸ“ Encontrar tacho cercano</button>
           </a>
        </div>
        <div class="dash-actions">
          <a class="link" href="notificacionevento.html">
            <button class="btn btn-secondary btn-block">ğŸŒ¿ Eventos ecolÃ³gicos</button>
          </a>
        </div> 
        <div class="dash-actions">
          <a class="link" href="perfil.html">
            <button class="btn btn-secondary btn-block">perfil</button>
          </a>
        </div> 
            <span>Progreso hacia recompensa mensual</span>
        <div class="dash-progress-bar">45%</div>

           <!-- Mis logros -->
      <section class="dash-section">
        <div class="dash-section-header">
          <span> Mis logros</span>
          <button class="dash-link">Ver todos â†’</button>
        </div>
    
        <article class="dash-card dash-achievement">
          <div>
            <p class="dash-achievement-title">ğŸ…Nuevo logro "HÃ©roe del barrio"</p>
            <p class="dash-achievement-meta">ğŸ–ï¸Completaste 3 depÃ³sitos esta semana</p>
          </div>
        <!-- âœ… HU-016 Canje de puntos por beneficios -->
<section class="dash-section">
  <div class="dash-section-header">
    <span>ğŸ Canje de puntos</span>
  </div>

  <article class="dash-card">

    <a href="recompensas.html" class="btn btn-primary">Canjear</a>

    <p id="mensajeCanje" style="margin-top:10px;"></p>
  </article>
</section>
    </section>
    </section> <!--Cierra la vista de ciudadano-->
  <!-- Vista para recolector -->
<section id="view-recolector" class="dash-view hidden">
  <header class="dash-header">
    <div class="dash-logo-row">
    </div>
    <h1 id="collector-name" class="dash-title">Hola, Recolector ğŸ‘‹</h1>
    <p id="collector-meta" class="dash-meta">
      Turno: MaÃ±ana | Fecha: <span id="collector-date"></span>
    </p>
  </header>

  <!-- Resumen del dÃ­a -->
  <section class="dash-section">
    <div class="dash-section-header">
      <span>ğŸ“Š Resumen del dÃ­a</span>
    </div>
    <article class="dash-card dash-summary">
      <ul class="dash-summary-list">
        <li>ğŸ›£ï¸ Rutas asignadas: <span id="sum-rutas">3</span></li>
        <li>ğŸ—‘ï¸ Tachos atendidos: <span id="sum-tachos">27/45</span></li>
        <li>âš ï¸ Alertas activas: <span id="sum-alertas">2</span></li>
      </ul>
      <div class="dash-progress">
        <span class="dash-progress-number" id="sum-progreso">60%</span>
      </div>
    </article>
  </section>

  <!-- Rutas activas -->
  <section class="dash-section">
    <div class="dash-section-header">
      <span>ğŸ” Rutas activas</span>
      <button class="dash-link">Ver todas â†’</button>
    </div>

    <article class="dash-card dash-route">
      <div>
        <p class="dash-route-title">Ruta #1 â€“ San Miguel</p>
        <p class="dash-route-meta">15 tachos | 2 alertas</p>
      </div>
      <button class="btn btn-outline dash-small-btn">Ver detalles</button>
    </article>

    <article class="dash-card dash-route">
      <div>
        <p class="dash-route-title">Ruta #2 â€“ Callao Norte</p>
        <p class="dash-route-meta">10 tachos | 0 alertas</p>
      </div>
      <button class="btn btn-outline dash-small-btn">Ver detalles</button>
    </article>
  </section>
  
  <section id="alerts-summary-section" class="dash-section">
  <div class="dash-section-header">
    <span>ğŸš¨ Alertas activas</span>
    <button id="btnVerTodasAlertasDashboard" class="dash-link" type="button">
      Ver todo â†’
    </button>
  </div>
  <p id="alerts-summary-info" class="dash-meta">
    Mostrando un resumen de las alertas activas.
  </p>
  <div id="alerts-summary-list">
    <!-- AquÃ­ el JS pondrÃ¡ hasta 2 alertas -->
  </div>
</section>

  <!-- Alertas urgentes -->
  <section class="dash-section">
    <div class="dash-section-header">
      <span>âš ï¸ Alertas urgentes</span>
      <button class="dash-link">Ver todas â†’</button>
    </div>
    <article class="dash-card">
      <p class="dash-route-title">Tacho #03 Callao Sur</p>
      <p class="dash-route-meta">Estado: Sensor daÃ±ado</p>
      <button class="btn btn-outline dash-small-btn">Ver en mapa</button>
    </article>
  </section>

  <section class="dash-section">
  <div class="dash-section-header">
    <span>Historial de jornada</span>
  </div>
  <article class="dash-card">
    <p id="historial-alertas-resueltas" class="dash-route-meta">
      No hay alertas resueltas hoy.
    </p>
    <button class="btn btn-outline dash-small-btn" type="button">
      Ver detalle
    </button>
  </article>
</section>

    <section class="dash-section">
    <div class="dash-section-header">
      <span>ğŸš¨ Alertas de emergencia</span>
      <!-- BotÃ³n solo para la demo / pruebas -->
      <button id="btnSimularEmergencia" class="dash-link" type="button">
        Simular emergencia
      </button>
    </div>

    <!-- Card que se muestra SOLO cuando la alerta llega bien -->
    <article id="emergencyAlertCard" class="dash-card hidden">
      <p id="emergency-title" class="dash-route-title"></p>
      <p id="emergency-meta" class="dash-route-meta"></p>
      <button id="emergency-ack-btn"
              class="btn btn-primary dash-small-btn"
              type="button">
        Marcar como atendida
      </button>
    </article>

      <!-- BotÃ³n para reportar incidencia -->
<section class="dash-section">
  <div class="dash-section-header">
    <span>ğŸ“¸ Reportar incidencia</span>
  </div>
  <div class="dash-actions">
    <a href="reportar-incidencia.html">
      <button class="btn btn-primary btn-block">â• Nueva incidencia con foto</button>
    </a>
  </div>
</section>

    <!-- Mensajes de estado: reintentos, error de red, etc. -->
    <p id="emergencyStatus" class="dash-meta" style="margin-top:.4rem;"></p>
  </section>
  <div class="dash-actions">
    <button class="btn btn-primary btn-block">Ver historial de jornada</button>
  </div>
</section>

  <!-- Vista completa de alertas para el recolector -->
<section id="view-recolector-alertas" class="dash-view hidden">
  <header class="dash-header">
    <div class="dash-logo-row">
      <button id="btnVolverPanelRecolector"
              class="btn btn-outline dash-small-btn"
              type="button">
        â† Volver al panel
      </button>
    </div>
    <h1 class="dash-title">Alertas</h1>
    <p class="dash-meta">
      Visualiza y gestiona todas las alertas activas de los contenedores.
    </p>
  </header>

  <!-- Mapa de alertas -->
  <section class="dash-section">
    <div class="dash-section-header">
      <span>Mapa de alertas</span>
    </div>
    <div class="alert-map">
  <div class="alert-map-placeholder">
    <img id="alert-map-img"
         src="img/map-general.png"
         alt="Mapa de alertas"
         class="alert-map-img">
  </div>
  <p id="alertas-mapa-label" class="dash-meta" style="margin-top:.4rem;">
    Selecciona â€œVer en mapaâ€ en una alerta para centrar el contenedor.
  </p>
</div>

  </section>

  <!-- Lista completa de alertas -->
  <section class="dash-section">
    <div class="dash-section-header">
      <span>Lista de alertas activas</span>
      <span id="count-alertas-activas" class="dash-link"></span>
    </div>
    <div id="alertas-lista">
      <!-- Se rellenarÃ¡ con JS -->
    </div>
  </section>

  <!-- Historial de jornada (para HU-60) -->
  <section class="dash-section">
    <div class="dash-section-header">
      <span>Historial de jornada</span>
    </div>
    <article class="dash-card">
      <p id="historial-alertas-resueltas" class="dash-route-meta">
        No hay alertas resueltas hoy.
      </p>
      <button class="btn btn-outline dash-small-btn" type="button">
        Ver detalle
      </button>
    </article>
  </section>
</section>
  
  </main>

  <script src="js/dashboard.js" defer></script>
</body>
</html>











































